
<ons-navigator title="Profile" var="nav.login" page="login_main.html"></ons-navigator>

<ons-modal var="modal">
    <i class="fa fa-spinner fa-spin fa-pulse" style="font-size: 28px;"></i>
    <br><br>
    Please wait ...
</ons-modal>

<ons-template id="login_main.html">
    <ons-page id="login_main-page" ng-controller="LoginController">
        <ons-toolbar class="toolbar">
            <div class="left">
                <ons-toolbar-button ng-click="app.slidingMenu.toggleMenu()"><ons-icon icon="bars" class="icon-color"></ons-icon></ons-toolbar-button>
            </div>
            <div class="center">Authentication</div>
            <div class="right">
                <ons-toolbar-button ng-click="onSignupClick()">
                    <span class="icon-color">Sign Up</span>
                </ons-toolbar-button>
            </div>
        </ons-toolbar>
        <div class="login-form">
            <input type="text" ng-model="user_id" ng-focus="onFocus()" 
                class="text-input--underbar {{required.user_id}} input-focus" 
                placeholder="Username" style="width: 100%;">
            <input type="password" ng-model="password" 
                ng-focus="onFocus()" onfocus="this.value=''"
                class="text-input--underbar {{required.password}} input-focus" 
                placeholder="Password">
            <br><br>
            <ons-button modifier="large" class="login-button" ng-click="onLoginSubmit()">
                Log In
            </ons-button>
            <br><br>
            <ons-button modifier="quiet" class="forgot-password" ng-click="show('password.html')">
                Forgot password?
            </ons-button>
            <br>
            <div style="text-align: center;">
                <span style="color: green">{{message}}</span>
            </div>
        </div>
        <div>
            <toaster-container toaster-options="{'time-out': 2000, 'position-class': 'toast-bottom-right','close-button':true}"></toaster-container>
        </div>
    </ons-page>
</ons-template>

<ons-template id="password.html">
    <ons-dialog var="dialog" cancelable ng-controller="DialogController">
        <ons-toolbar inline class="toolbar-color">
            <div class="center">
                Forgot password?
            </div>
        </ons-toolbar>
        <p>
            <input placeholder="Enter email address" id="email" ng-model="email" ng-focus="onFocus()"
                class="text-input {{required}}" 
                style="width: 100%; height: 40px">
        </p>
        <p>
            <ons-button modifier="normal" ng-click="onResetPassword()" style="width: 100%; text-align: center;">Reset password</ons-button>
        </p>
    </ons-dialog> 
</ons-template>

<ons-template id="signup.html">
    <ons-page id="signup-page" ng-controller="SignupController">
        <ons-toolbar class="toolbar">
            <div class="right">
                <ons-toolbar-button ng-click="nav.login.popPage()"><span class="icon-color">Cancel</span></ons-toolbar-button>
            </div>
            <div class="center">Sign Up</div>
        </ons-toolbar>
        <div class="formarea">
            <div class="form-row">
              <input type="text" 
                ng-model="user.user_id" 
                ng-focus="onFocus()" 
                ng-blur="onUserIDBlur()" 
                class="text-input--underbar width-full input-focus {{required.user_id}}" 
                placeholder="Username">
            </div>
            <div class="form-row">
              <input type="text" 
                ng-model="user.first_name" 
                class="text-input--underbar width-half input-focus" 
                placeholder="First name">
              <input type="text" 
                style="float: right" 
                ng-model="user.last_name" 
                class="text-input--underbar width-half input-focus" 
                placeholder="Last name">
            </div>
            <div class="form-row">
              <input type="email" 
                ng-model="user.email" 
                ng-focus="onFocus()" 
                ng-blur="onEmailBlur()" 
                class="text-input--underbar width-full input-focus {{required.email}}" 
                placeholder="Email address">
            </div>
            <div class="form-row">
              <input type="text" 
                style="height: 50px;" 
                ng-model="user.phone" 
                ng-focus="onFocus()" 
                class="text-input--underbar width-full input-focus {{required.phone}}" 
                placeholder="Phone number">
            </div>
            <div class="form-row">
              <input type="password" 
                ng-model="user.password" 
                ng-focus="onFocus()" 
                class="text-input--underbar width-full input-focus {{required.password}}" 
                placeholder="Password">
            </div>
            <div class="form-row">
              <input type="password" 
                ng-model="user.repassword" 
                ng-focus="onFocus()" 
                class="text-input--underbar width-full input-focus {{required.repassword}}" 
                placeholder="Confirm Password">
            </div>
            <div class="form-row">
                <textarea class="textarea"
                    ng-model="user.info" 
                    ng-focus="onFocus()" 
                    placeholder="About me" 
                    style="width: 100%; height: 56px; background-color: #FFFFFF; line-height: 22px">
                </textarea>
            </div>
            <div class="form-row">
                <select 
                    class="posting-category {{required.location}}" 
                    style="height: 45px; width: 65%; float: left;"
                    ng-model="user.location" 
                    ng-focus="onFocus()" 
                    ng-options="loc.location for loc in locations">
                </select>
                <ons-button modifier="normal" 
                    ngf-select 
                    ng-model="userPhoto" 
                    style="float: right; width: 33%; text-align: center;">
                    <ons-icon icon="photo"></ons-icon> Photo
                </ons-button>
            </div>
            <br>
            <br>
            <div class="vspc form-row">
                <ons-button modifier="large" ng-click="onSignupSubmit()" style="width: 100%;">
                    Create Account
                </ons-button>
            </div>
            <br />
            <br />
            <br />
            <div style="text-align: center; padding: 5px;" ng-show="userPhoto.length>0">
                <img ngf-src="userPhoto[0]" style="width: 100%; border:1px solid #007AFF; border-radius: 5px;" />
            </div>
        </div>
    </ons-page>    
</ons-template>

